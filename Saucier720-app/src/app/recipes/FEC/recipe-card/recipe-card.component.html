<div class="card-container">
  <div class="card">
    <div class="recipe-title">
      <h1 *ngIf="recipes && recipes.length > 0" class="recipe-title">
        {{ recipes[currentRecipeIndex].R.title }}
      </h1>
    </div>
    <div class="recipe-body">
        <div class="recipe-ingredients">
          <div class="recipe-ingredients-content">
            <div class="recipe-ingredients-header">
              <h2>Ingredients</h2>
            </div>
            <div *ngIf="recipes && recipes.length > 0" class="recipe-ingredients">
              <ul>
                <ng-container *ngFor="let ingredient of currentIngredients; let i = index">
                  <ng-container *ngIf="!checkForRecipeFollows(ingredient)">
                    <li *ngIf="!printedSubRecipeLines.includes(ingredient)">{{ ingredient }}</li>
                  </ng-container>
                  <ng-container *ngIf="checkForRecipeFollows(ingredient)">
                      <app-sub-recipe [recipe]="ingredient" [ingredients]="currentIngredients.slice(i + 1)" [headerText]="ingredient"></app-sub-recipe>
                    <ng-container *ngFor="let subIngredient of currentIngredients.slice(i + 1)">
                      <ng-container *ngIf="!checkForRecipeFollows(subIngredient)">
                        <ng-container *ngIf="printedSubRecipeLines.push(subIngredient)"></ng-container>
                      </ng-container>
                    </ng-container>
                  </ng-container>
                </ng-container>
              </ul>
            </div>
          </div>       
        </div>
        <div class="recipe-instructions">
          <div class="recipe-instructions-content">

          <div class="recipe-instructions-header">
            <h2>Instructions</h2>
          </div>
          <div *ngIf="recipes && recipes.length > 0" class="recipe-instructions">
            <div *ngIf="recipes[currentRecipeIndex].R.instructions" class="recipe-instructions">
              <ul>
                <ng-container *ngFor="let sentence of recipes[currentRecipeIndex].R.instructions.split('.'); let i = index">
                  <li *ngIf="sentence.trim().length >= 2">
                    <span>{{ sentence.trim() }}</span>
                  </li>
                </ng-container>
              </ul>
            </div>
          </div>          
          </div>
        </div>
        <div class="recipe-picture">
          <div *ngIf="recipes && recipes.length > 0" class="recipe-picture">
            {{ recipes[currentRecipeIndex].R.pictureLink }}
          </div>
        </div>
    </div>
  </div>
  <div class="button-container">
    <button class="button"(click)="goToPrevRecipe()">Previous Recipe</button>
    <button class="button" (click)="goToNextRecipe()">Next Recipe</button> 
  </div>
  
  <div class="page-number">Page {{currentRecipeIndex + 1}} / {{recipes.length}}</div>
</div>
